<!DOCTYPE html>
<html lang="en">
<head>
    <title>Vis Network | Yule Model Phylogeny</title>

    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <link rel="stylesheet" href="../styles/phylovis.css">
</head>
<body>
<h1>Phylogeny Playground</h1>
<p>Explore the tree in both phylogeny (dendrogram) form and graph form, with the ability to drag, zoom, and adjust the view. Experiment with generating trees of varying sizes, and interact with the nodes and edges by hovering over them. The corresponding elements in the adjacency list and node feature matrix will be highlighted for visual assistance.</p>
<p>Interactive highlighting allows you to easily trace connections between a phylogeny/graph and its encoding. For example, when you hover over an edge, its associated entries in the adjacency list and node feature matrix will be highlighted. Similarly, hovering over a row or element in the list or matrix will highlight the corresponding node or edge in the tree.</p>
<p>Try it out yourself, specify a tip number and click on the "Generate Tree" button below to simulate a phylogenetic tree under the Yule model.</p>
<p>Click on "Phlogeny Form" and "Graph Form" to switch between layouts. Click on the rotation buttons to display the tree in a different pose.</p>
<form id="treeForm">
    <label for="tipCount">Enter number of tips (T):</label>
    <input type="number" id="tipCount" name="tipCount" min="2" max="10" value="5" required>
    <button type="submit">Generate Tree</button>
</form><br>

<div class="row-button">
    <!--add button to change layout to phylogenetic tree style-->
    <button onclick="network.setOptions({layout: {hierarchical: {sortMethod: 'directed'}}})">Phylogeny Form</button>
    <!--add button to change layout to phylogenetic tree style and disable physics-->
    <button onclick="network.setOptions({layout: {hierarchical: false}, physics: true})">Graph Form</button>

    <!--Two buttons for rotation using the rotateLayout() function-->
    <button onclick="rotateLayoutClockwise()">Rotate 90&deg</button>
    <button onclick="rotateLayoutCounterClockwise()">Rotate -90&deg</button>
</div>

<!-- Two rows layout -->
<div id="phylovis-container">
    <!-- First row: legend and network -->
    <div class="row">
        <div id="mynetwork-legend">
            <div id="legend-content">
                <div class="legend-item">
                    <div class="legend-circle root-circle"></div>
                    <span>Root</span>
                </div>
                <div class="legend-item">
                    <div class="legend-circle internal-circle"></div>
                    <span>Internal</span>
                </div>
                <div class="legend-item">
                    <div class="legend-circle tip-circle"></div>
                    <span>Tip</span>
                </div>
            </div>
        </div>
        <div id="mynetwork"></div>
    </div>
    <!-- Column titles for the second row -->
    <div class="row-title">
        <div id="adjacency-list-title">Adjacency List</div>
        <div id="node-features-title">Node Features</div>
    </div>
    <!-- Second row: adjacency list and node features -->
    <div class="row">
        <div id="adjacency-list">
            <div class="content">
                <!-- Adjacency list content goes here -->
            </div>
        </div>
        <div id="node-features">
            <div class="content">
                <!-- Node features content goes here -->
            </div>
        </div>
    </div>
</div>

<p id="selection"></p>

<script src="../phylovis.js"> </script>
</body>
</html>